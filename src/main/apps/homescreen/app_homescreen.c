#include "ble_ams.h"

#include "app_homescreen.h"

////// include the nrf fonts
#include "nrf_gfx_fonts.h"

#include "nrf_gfx.h"

#include "nrf_oled_driver.h"

const uint8_t img[] =
{0, 0, 0, 0, 0, 0, 128, 224, 240, 248, 248, 124, 62, 31, 15, 6, 0, 0, 0, 0, 0, 0, 0, 0, 112, 120, 60, 14, 15, 15, 7, 7, 7, 7, 7, 62, 254, 252, 248, 0, 0, 0, 60, 126, 126, 60, 0, 0, 252, 252, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 254, 254, 0, 0, 0, 0, 0, 0, 0, 0, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
 28, 156, 252, 252, 252, 60, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
192, 240, 254, 255, 127, 31, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 224, 252, 255, 255, 127, 0, 0, 0, 0, 0, 0, 0, 0, 
0, 3, 31, 62, 60, 120, 120, 112, 112, 112, 112, 112, 120, 124, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 240, 254, 127, 15, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 254, 255, 255, 255, 31, 15, 
15, 15, 30, 60, 124, 248, 240, 192, 128, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 192, 240, 248, 252, 126, 63, 15, 7, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 248, 254, 255, 31, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
0, 0, 28, 14, 7, 3, 3, 3, 3, 3, 255, 254, 252, 0, 0, 0, 0, 0, 0, 1, 3, 3, 3, 3, 3, 195, 227, 255, 126, 0, 0, 0, 0, 15, 31, 63, 126, 120, 240, 224, 224, 224, 224, 224, 240, 255, 127, 63, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 248, 255, 255, 255, 199, 193, 192, 192, 192, 192, 192, 192, 192, 192, 0, 0, 60, 126, 126, 60, 
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 248, 255, 255, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 192, 224, 240, 248, 220, 222, 207, 199, 195, 192, 192, 192, 0, 0, 0, 192, 192, 195, 195, 195, 195, 227, 231, 254, 124, 0, 0, 0 };
void app_homescreen_init(void) {

  // nrf_gfx_lib_test();
  // nrf_gfx_lib_screen_refresh();
  NRF_LOG_INFO("homescreen");
  nrf_gfx_lib_set_bitmap(0, 2, 127, 6, img, 512);

  nrf_gfx_lib_draw_string(0,0,"  MON  24-JAN-2023 ",20);
}

void app_homescreen_window(void* param) {

  UNUSED_PARAMETER(param);

  for (;;) {

    /// check time and update it on the screen

    //// update date

    //// check for app switch
  }
}
